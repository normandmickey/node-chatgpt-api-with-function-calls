# node-chatgpt-api-with-function-calls

This is a demonstration of how to integrate function calls with the OpenAI API (ChatGPT), NodeJS, RapidApi.com and WorldTimeAPI.org. 

1. Clone this repository `git clone https://github.com/normandmickey/node-chatgpt-api-with-function-calls.git`. 
2. Change to the node-chatgpt-with-functon-calls directory. 
3. Install packages `npm install`. 
4. Copy env.sample to .env and update your OPENAI_API_KEY. 
5. Goto https://rapidapi.com/hub, subscribe to the WeatherAPI.com API (https://rapidapi.com/weatherapi/api/weatherapi-com).
6. Add your X-RapidAPI-Key to your .env file. 
7. Run the following command `node node-chatgpt-js`

The script will return normal responses to your prompts using OpenAI's Chat Completion endpoint.    

However, if you ask a weather related question about a specific location, ChatGPT will create the function call to lookup the current temperature using the WeatherAPI.com's API. This time the response is generated by the API call and returned to console.  

For example, "Whats the weather forecast for Las Vegas Nevada?" should return something like "The current temp is 71.1."

But when you ask "What time is it in Rio De Janeiro?", you should get the current time in Rio. (From the worldtimeapi.org API.)

As you can see OpenAI's API is used to generate the API call, it's still up to you to run it and parse the responses.  Instead of immediately returning data from the API to the user, you could append the AP response to a second call to ChatGPT giving it context to answer the original question. 
